<!DOCTYPE HTML>
<html>

<head>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.validate.min.js"></script>
<script type="text/javascript" src="js/additional-methods.min.js"></script>

<script type="text/javascript">
(function($,W,D)
{
    var JQUERY4U = {};

    JQUERY4U.UTIL =
    {
        setupFormValidation: function()
        {
            //form validation rules
            $("#register-form").validate({
                rules: {
                    firstname: "required",
                    lastname: "required",
                    email: {
                        required: true,
                        email: true
                    },
                    password: {
                        required: true,
                        minlength: 5
                    },
                    non_profit: "required",
                    new_non_profit: {
                    	required: "option:selected"
                    }
                },
                messages: {
                    firstname: "Please enter your firstname",
                    lastname: "Please enter your lastname",
                    password: {
                        required: "Please provide a password",
                        minlength: "Your password must be at least 5 characters long"
                    },
                    email: {
                    	required: "Please provide an email address."
                    },
                    non_profit: "Please choose your non-profit!",
                    new_non_profit: {
                    	required: "Enter your non-profit name!"
                    }
                },
                submitHandler: function(form) {
                    form.submit();
                }
            });
        }
    }

    //when the dom has loaded setup form validation rules
    $(D).ready(function($) {
    	//if "Other..." is selected
		$(function(){
			//hide the input
			$("#new_non_profit").hide();
			$("#new_NP_label").hide();
			$("#non_profit").change(function() {
				if($(this).find('option:selected').val() == "Other..."){
					// $(this).addRule()
					$("#new_NP_label").show();
					$("#new_non_profit").show();
				}
				else {
					$("#new_NP_label").hide();
					$("#new_non_profit").hide();
				}
			});
		});
        JQUERY4U.UTIL.setupFormValidation();
    });

})(jQuery, window, document);


// //if "Other..." is selected
// $(function(){
// 	//hide the input
// 	$("#new_non_profit").hide();
// 	$("#new_NP_label").hide();
// 	$("#non_profit").change(function() {
// 		if($(this).find('option:selected').val() == "Other..."){
// 			$(this).addRule
// 			$("#new_NP_label").show();
// 			$("#new_non_profit").show();
// 		}
// 		else {
// 			$("#new_NP_label").hide();
// 			$("#new_non_profit").hide();
// 		}
// 	});
// });

</script>

</head>
<body>

<form action="" method="post" id="register-form">

	<h2>Donor Registration</h2>

    <fieldset>
    	<div>
            <label for="firstname">First Name:</label>
            <input type="text" name="firstname"/>
        </div>

        <div>
            <label for="lastname">Last Name:</label>
            <input type="text" name="lastname"/>
		</div>

		<div>
            <label for="email">Email:</label>
            <input type="text" name="email"/>
        </div>

        <div>
        	<select name="non_profit" id="non_profit">
        		<option disabled="disabled" selected="selected">Choose your non-profit</option>
        		<option>Starfish Initiative</option>
    			<option>Child & Family</option>
    			<option>AMAC Foundation</option>
    			<option>John H. Boner Community Center</option>
    			<option>Agape Therapeutic Riding Resources</option>
    			<option>The Boaz Project</option>
    			<option>Lawrence Township School Foundation</option>
    			<option>Partnerships For Lawrence</option>
    			<option>Other...</option>
        	</select>
        </div>

        <div>
        	<label for="new_non_profit" id="new_NP_label">Non-Profit Name:</label>
        	<input type="text" name="new_non_profit" id="new_non_profit"/>
        </div>

            <input type="submit" value="Register"/>

    </fieldset>
</form>
</body>

</html>